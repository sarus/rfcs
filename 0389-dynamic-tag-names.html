<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>0389-dynamic-tag-names - </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme -->
        

        

        <!-- Fetch Clipboard.js from CDN but have a local fallback -->
        <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
        <script>
            if (typeof Clipboard == 'undefined') {
                document.write(unescape("%3Cscript src='clipboard.min.js'%3E%3C/script%3E"));
            }
        </script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>

        <!-- Fetch store.js from local - TODO add CDN when 2.x.x is available on cdnjs -->
        <script src="store.js"></script>

        <!-- Custom JS script -->
        

    </head>
    <body class="light">
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = store.get('mdbook-theme');
            if (theme === null || theme === undefined) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = store.get('mdbook-sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li class="affix"><a href="introduction.html">Introduction</a></li><li><a href="0001-transform-attribute-meta-parameter.html"><strong>1.</strong> 0001-transform-attribute-meta-parameter</a></li><li><a href="0003-block-params.html"><strong>2.</strong> 0003-block-params</a></li><li><a href="0003-cli-ember-doctor.html"><strong>3.</strong> 0003-cli-ember-doctor</a></li><li><a href="0010-engines.html"><strong>4.</strong> 0010-engines</a></li><li><a href="0011-improved-cp-syntax.html"><strong>5.</strong> 0011-improved-cp-syntax</a></li><li><a href="0012-help-json-output.html"><strong>6.</strong> 0012-help-json-output</a></li><li><a href="0015-the-road-to-ember-2-0.html"><strong>7.</strong> 0015-the-road-to-ember-2-0</a></li><li><a href="0020-sri-default.html"><strong>8.</strong> 0020-sri-default</a></li><li><a href="0023-command-line-completion.html"><strong>9.</strong> 0023-command-line-completion</a></li><li><a href="0024-bound-attributes.html"><strong>10.</strong> 0024-bound-attributes</a></li><li><a href="0028-app-import-output-file.html"><strong>11.</strong> 0028-app-import-output-file</a></li><li><a href="0029-addon-black-and-whitelist-for-apps.html"><strong>12.</strong> 0029-addon-black-and-whitelist-for-apps</a></li><li><a href="0045-internet-explorer.html"><strong>13.</strong> 0045-internet-explorer</a></li><li><a href="0046-cli-improved-release-process.html"><strong>14.</strong> 0046-cli-improved-release-process</a></li><li><a href="0046-registry-reform.html"><strong>15.</strong> 0046-registry-reform</a></li><li><a href="0050-cli-production-code-stripping.html"><strong>16.</strong> 0050-cli-production-code-stripping</a></li><li><a href="0050-improved-actions.html"><strong>17.</strong> 0050-improved-actions</a></li><li><a href="0053-helpers.html"><strong>18.</strong> 0053-helpers</a></li><li><a href="0055-anonymous-amd.html"><strong>19.</strong> 0055-anonymous-amd</a></li><li><a href="0056-improved-release-cycle.html"><strong>20.</strong> 0056-improved-release-cycle</a></li><li><a href="0057-ember-data-reference-unification.html"><strong>21.</strong> 0057-ember-data-reference-unification</a></li><li><a href="0058-helper-listing.html"><strong>22.</strong> 0058-helper-listing</a></li><li><a href="0061-ember-data-background-fetch.html"><strong>23.</strong> 0061-ember-data-background-fetch</a></li><li><a href="0064-contextual-component-lookup.html"><strong>24.</strong> 0064-contextual-component-lookup</a></li><li><a href="0065-deprecation-warning-handlers.html"><strong>25.</strong> 0065-deprecation-warning-handlers</a></li><li><a href="0080-serve-file-api.html"><strong>26.</strong> 0080-serve-file-api</a></li><li><a href="0086-firefox-in-ci.html"><strong>27.</strong> 0086-firefox-in-ci</a></li><li><a href="0090-addon-tree-caching.html"><strong>28.</strong> 0090-addon-tree-caching</a></li><li><a href="0091-cli-addon-instrumentation-experimental-hooks.html"><strong>29.</strong> 0091-cli-addon-instrumentation-experimental-hooks</a></li><li><a href="0091-weakmap.html"><strong>30.</strong> 0091-weakmap</a></li><li><a href="0092-blueprint-remove-old-files.html"><strong>31.</strong> 0092-blueprint-remove-old-files</a></li><li><a href="0095-cli-standardise-targets.html"><strong>32.</strong> 0095-cli-standardise-targets</a></li><li><a href="0095-router-service.html"><strong>33.</strong> 0095-router-service</a></li><li><a href="0096-enable-yarn-usage.html"><strong>34.</strong> 0096-enable-yarn-usage</a></li><li><a href="0101-ember-data-friendly-errors.html"><strong>35.</strong> 0101-ember-data-friendly-errors</a></li><li><a href="0105-addons-optionalDependencies.html"><strong>36.</strong> 0105-addons-optionalDependencies</a></li><li><a href="0108-add-custom-transform.html"><strong>37.</strong> 0108-add-custom-transform</a></li><li><a href="0110-packaging.html"><strong>38.</strong> 0110-packaging</a></li><li><a href="0114-add-template-lint-addon.html"><strong>39.</strong> 0114-add-template-lint-addon</a></li><li><a href="0116-qunit-dom.html"><strong>40.</strong> 0116-qunit-dom</a></li><li><a href="0120-cli-guides.html"><strong>41.</strong> 0120-cli-guides</a></li><li><a href="0120-route-serializers.html"><strong>42.</strong> 0120-route-serializers</a></li><li><a href="0121-remove-ember-cli-eslint.html"><strong>43.</strong> 0121-remove-ember-cli-eslint</a></li><li><a href="0136-contains-to-includes.html"><strong>44.</strong> 0136-contains-to-includes</a></li><li><a href="0139-isHtmlSafe.html"><strong>45.</strong> 0139-isHtmlSafe</a></li><li><a href="0143-module-unification.html"><strong>46.</strong> 0143-module-unification</a></li><li><a href="0150-factory-for.html"><strong>47.</strong> 0150-factory-for</a></li><li><a href="0176-javascript-module-api.html"><strong>48.</strong> 0176-javascript-module-api</a></li><li><a href="0178-deprecate-ember-k.html"><strong>49.</strong> 0178-deprecate-ember-k</a></li><li><a href="0181-deprecate-ember-data-initializers.html"><strong>50.</strong> 0181-deprecate-ember-data-initializers</a></li><li><a href="0186-track-unique-history-location-state.html"><strong>51.</strong> 0186-track-unique-history-location-state</a></li><li><a href="0191-deprecate-component-lifecycle-hook-args.html"><strong>52.</strong> 0191-deprecate-component-lifecycle-hook-args</a></li><li><a href="0194-deprecate-custom-event-manager.html"><strong>53.</strong> 0194-deprecate-custom-event-manager</a></li><li><a href="0213-custom-components.html"><strong>54.</strong> 0213-custom-components</a></li><li><a href="0225-ember-engines-mount-params.html"><strong>55.</strong> 0225-ember-engines-mount-params</a></li><li><a href="0226-named-blocks.html"><strong>56.</strong> 0226-named-blocks</a></li><li><a href="0229-deprecate-testing-restricted-resolver.html"><strong>57.</strong> 0229-deprecate-testing-restricted-resolver</a></li><li><a href="0232-simplify-qunit-testing-api.html"><strong>58.</strong> 0232-simplify-qunit-testing-api</a></li><li><a href="0236-deprecation-ember-string.html"><strong>59.</strong> 0236-deprecation-ember-string</a></li><li><a href="0237-deprecation-ember-map.html"><strong>60.</strong> 0237-deprecation-ember-map</a></li><li><a href="0240-es-classes.html"><strong>61.</strong> 0240-es-classes</a></li><li><a href="0252-browser-support-changes.html"><strong>62.</strong> 0252-browser-support-changes</a></li><li><a href="0268-acceptance-testing-refactor.html"><strong>63.</strong> 0268-acceptance-testing-refactor</a></li><li><a href="0272-deprecation-native-function-prototype-extensions.html"><strong>64.</strong> 0272-deprecation-native-function-prototype-extensions</a></li><li><a href="0276-named-args.html"><strong>65.</strong> 0276-named-args</a></li><li><a href="0278-template-only-components.html"><strong>66.</strong> 0278-template-only-components</a></li><li><a href="0280-remove-application-wrapper.html"><strong>67.</strong> 0280-remove-application-wrapper</a></li><li><a href="0281-es5-getters.html"><strong>68.</strong> 0281-es5-getters</a></li><li><a href="0286-block-let-template-helper.html"><strong>69.</strong> 0286-block-let-template-helper</a></li><li><a href="0287-promote-in-element-to-public-api.html"><strong>70.</strong> 0287-promote-in-element-to-public-api</a></li><li><a href="0293-record-data.html"><strong>71.</strong> 0293-record-data</a></li><li><a href="0294-optional-jquery.html"><strong>72.</strong> 0294-optional-jquery</a></li><li><a href="0297-deprecate-ember-logger.html"><strong>73.</strong> 0297-deprecate-ember-logger</a></li><li><a href="0300-rfc-process-update.html"><strong>74.</strong> 0300-rfc-process-update</a></li><li><a href="0308-deprecate-property-lookup-fallback.html"><strong>75.</strong> 0308-deprecate-property-lookup-fallback</a></li><li><a href="0311-angle-bracket-invocation.html"><strong>76.</strong> 0311-angle-bracket-invocation</a></li><li><a href="0318-array-helper.html"><strong>77.</strong> 0318-array-helper</a></li><li><a href="0322-deprecate-copy-copyable.html"><strong>78.</strong> 0322-deprecate-copy-copyable</a></li><li><a href="0324-deprecate-component-isvisible.html"><strong>79.</strong> 0324-deprecate-component-isvisible</a></li><li><a href="0326-ember-data-filter-deprecation.html"><strong>80.</strong> 0326-ember-data-filter-deprecation</a></li><li><a href="0329-deprecated-ember-evented-in-ember-data.html"><strong>81.</strong> 0329-deprecated-ember-evented-in-ember-data</a></li><li><a href="0331-deprecate-globals-resolver.html"><strong>82.</strong> 0331-deprecate-globals-resolver</a></li><li><a href="0332-ember-data-record-links-and-meta.html"><strong>83.</strong> 0332-ember-data-record-links-and-meta</a></li><li><a href="0335-deprecate-send-action.html"><strong>84.</strong> 0335-deprecate-send-action</a></li><li><a href="0337-native-class-constructor-update.html"><strong>85.</strong> 0337-native-class-constructor-update</a></li><li><a href="0340-deprecate-ember-merge.html"><strong>86.</strong> 0340-deprecate-ember-merge</a></li><li><a href="0345-discord.html"><strong>87.</strong> 0345-discord</a></li><li><a href="0364-roadmap-2018.html"><strong>88.</strong> 0364-roadmap-2018</a></li><li><a href="0369-deprecate-computed-clobberability.html"><strong>89.</strong> 0369-deprecate-computed-clobberability</a></li><li><a href="0370-deprecate-computed-volatile.html"><strong>90.</strong> 0370-deprecate-computed-volatile</a></li><li><a href="0372-ember-data-model-factory-for.html"><strong>91.</strong> 0372-ember-data-model-factory-for</a></li><li><a href="0373-Element-Modifier-Managers.html"><strong>92.</strong> 0373-Element-Modifier-Managers</a></li><li><a href="0375-deprecate-computed-property-modifier.html"><strong>93.</strong> 0375-deprecate-computed-property-modifier</a></li><li><a href="0386-remove-jquery.html"><strong>94.</strong> 0386-remove-jquery</a></li><li><a href="0389-dynamic-tag-names.html" class="active"><strong>95.</strong> 0389-dynamic-tag-names</a></li><li><a href="0391-router-helpers.html"><strong>96.</strong> 0391-router-helpers</a></li><li><a href="0392-deprecate-component-manager-string-lookup.html"><strong>97.</strong> 0392-deprecate-component-manager-string-lookup</a></li><li><a href="0395-ember-data-packages.html"><strong>98.</strong> 0395-ember-data-packages</a></li><li><a href="0398-RouteInfo-Metadata.html"><strong>99.</strong> 0398-RouteInfo-Metadata</a></li><li><a href="0403-ember-data-identifiers.html"><strong>100.</strong> 0403-ember-data-identifiers</a></li><li><a href="0408-decorators.html"><strong>101.</strong> 0408-decorators</a></li><li><a href="0410-tracked-properties.html"><strong>102.</strong> 0410-tracked-properties</a></li><li><a href="0415-render-element-modifiers.html"><strong>103.</strong> 0415-render-element-modifiers</a></li><li><a href="0416-glimmer-components.html"><strong>104.</strong> 0416-glimmer-components</a></li><li><a href="0418-deprecate-route-render-methods.html"><strong>105.</strong> 0418-deprecate-route-render-methods</a></li><li><a href="0421-deprecate-application-controller-props.html"><strong>106.</strong> 0421-deprecate-application-controller-props</a></li><li><a href="0425-website-redesign.html"><strong>107.</strong> 0425-website-redesign</a></li><li><a href="0431-guides-restructure.html"><strong>108.</strong> 0431-guides-restructure</a></li><li><a href="0432-contextual-helpers.html"><strong>109.</strong> 0432-contextual-helpers</a></li><li><a href="0435-modifier-splattributes.html"><strong>110.</strong> 0435-modifier-splattributes</a></li><li><a href="0440-decorator-support.html"><strong>111.</strong> 0440-decorator-support</a></li><li><a href="0445-deprecate-with.html"><strong>112.</strong> 0445-deprecate-with</a></li><li><a href="0446-contribution-guides.html"><strong>113.</strong> 0446-contribution-guides</a></li><li><a href="0449-deprecate-partials.html"><strong>114.</strong> 0449-deprecate-partials</a></li><li><a href="0451-injection-parameter-normalization.html"><strong>115.</strong> 0451-injection-parameter-normalization</a></li><li><a href="0457-nested-lookups.html"><strong>116.</strong> 0457-nested-lookups</a></li><li><a href="0459-angle-bracket-built-in-components.html"><strong>117.</strong> 0459-angle-bracket-built-in-components</a></li><li><a href="0460-yieldable-named-blocks.html"><strong>118.</strong> 0460-yieldable-named-blocks</a></li><li><a href="0465-record-data-errors.html"><strong>119.</strong> 0465-record-data-errors</a></li><li><a href="0470-fn-helper.html"><strong>120.</strong> 0470-fn-helper</a></li><li><a href="0471-on-modifier.html"><strong>121.</strong> 0471-on-modifier</a></li><li><a href="0478-tracked-properties-updates.html"><strong>122.</strong> 0478-tracked-properties-updates</a></li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page" tabindex="-1">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html">
                            <i id="print-button" class="fa fa-print" title="Print this book"></i>
                        </a>
                    </div>
                </div>

                <div id="content" class="content">
                    <ul>
<li>Start Date: 2018-10-14</li>
<li>Relevant Team(s): Ember.js</li>
<li>RFC PR: https://github.com/emberjs/rfcs/pull/389</li>
<li>Tracking: https://github.com/emberjs/rfc-tracking/issues/42</li>
</ul>
<a class="header" href="0389-dynamic-tag-names.html#dynamic-tag-names-in-glimmer-templates" id="dynamic-tag-names-in-glimmer-templates"><h1>Dynamic tag names in glimmer templates.</h1></a>
<a class="header" href="0389-dynamic-tag-names.html#summary" id="summary"><h2>Summary</h2></a>
<p>With the transition from inner-html semantics to outer-html semantics in components, we lost one feature: Being
able dynamically define the tag name of components.</p>
<p>I think it was an useful feature and we should find a way to bring it back.</p>
<a class="header" href="0389-dynamic-tag-names.html#motivation" id="motivation"><h2>Motivation</h2></a>
<p>Although not something we use every day, there is a need for some components to have a dynamic tag name.</p>
<p>This is most often used for certain low-level <em>presentational</em> components.</p>
<p>Take for instance a component named <code>&lt;Panel&gt;</code> that is used to encapsulate some presentation concerns.
The template of that component could be like this:</p>
<pre><code class="language-hbs">&lt;div class=&quot;pt-10 pb-10 ps-20 box-shadow&quot; ...attributes&gt;
  {{yield}}
&lt;/div&gt;
</code></pre>
<p>For accessibility and semantic reasons, sometimes a <code>&lt;div&gt;</code> may not be the best kind of tag.
We might want the panel to be a <code>&lt;section&gt;</code> element, or an <code>&lt;aside&gt;</code> when it's content is somewhat unrelated
with the rest of the page. Or maybe a <code>&lt;legend&gt;</code> if it's and the end of a form.</p>
<p>With the <code>element</code> helper proposed in this RFC, this can be accomplished with something like this:</p>
<pre><code class="language-hbs">{{#let (element @tagName) as |Tag|}}
  &lt;Tag class=&quot;pt-10 pb-10 ps-20 box-shadow&quot; ...attributes&gt;
    {{yield}}
  &lt;/Tag&gt;
{{/let}}
</code></pre>
<a class="header" href="0389-dynamic-tag-names.html#detailed-design" id="detailed-design"><h2>Detailed design</h2></a>
<p>We propose to add a new <code>element</code> helper that takes a tag name and generates a contextual component that, when invoked, renders the selected element.</p>
<p>Example:</p>
<pre><code class="language-hbs">{{#let (element @htmlTag) as |Tag|}}
  &lt;Tag&gt;...&lt;/Tag&gt;
{{/let}}
</code></pre>
<p>Unlike ids, classes or other attributes, the tag name of DOM element cannot be changed in runtime.</p>
<p>To help the user understand that changing the tag of an element in runtime is an expensive operation,
the syntax is intentionally chosen to express that changes in the tag name will turn down the given block
and recreate it again.</p>
<p>Having dynamic tag names can also open the door to possible XSS vulnerabilities if developers allow user-input
to become tag names (e.g. <code>xlink:</code>) . To prevent that, this helper will throw an error for any tag name containing anyting
but lowercase letters and dashes.</p>
<p>A working proof of concept of this approach has been created in https://github.com/tildeio/ember-element-helper</p>
<p>Shall this RFC me accepted, that helper would be ported to Ember.js itself, perhaps making it more efficient
on the process.</p>
<a class="header" href="0389-dynamic-tag-names.html#how-we-teach-this" id="how-we-teach-this"><h2>How we teach this</h2></a>
<p><em>It's vitally important that developers have awareness the negative impact that misuse of dynamic tags can have on the accessibility of an Ember application.</em></p>
<p>While dynamic tags enable a great deal of flexibility in components, it's essential to recognize that these can also negatively impact accessibility. Developers should be keenly aware of the appropriate role that should be applied per HTML element (as specified in the <a href="https://www.w3.org/WAI/PF/aria/roles">WAI-ARIA specification</a>), and ensure that the role is also updated, if necessary, as the tag name is changed. In some cases, the use of native, semantic HTML elements may eliminate the need to apply a role at all, so developers should consult the WAI-ARIA specification until they are certain of the correct use for their specific use cases.</p>
<p>This new helpers will be added to the list of <a href="https://emberjs.com/api/ember/release/classes/Ember.Templates.helpers">built-in helpers</a> along
with its cousins <code>component</code>, <code>array</code>, <code>each</code>, etc...</p>
<p>Some meaningful example for the docs could look like this (extracted from a real use case):</p>
<pre><code class="language-hbs">{{!-- sidebar.hbs, a template-only component --}}
{{#let (element (or @htmlTag &quot;aside&quot;)) as |Tag|}}
  &lt;Tag ...&gt;...&lt;/Tag&gt;
{{/let}}
</code></pre>
<pre><code class="language-hbs">&lt;Sidebar @htmlTag=&quot;nav&quot;&gt;...&lt;/Sidebar&gt;
</code></pre>
<p>Since this feature is not very commonly used, it should not be mentioned in the more beginner-friendly portion
of the guides. However, the <em>Components &gt; Customizing a Component's Element</em> section is a perfect fit for this.</p>
<a class="header" href="0389-dynamic-tag-names.html#drawbacks" id="drawbacks"><h2>Drawbacks</h2></a>
<p>Admittedly this syntax is somewhat convoluted, as it involves using the <code>let</code> helper, the new <code>element</code>
helper that yields a contextual component that is then invoked using angle-bracket syntax.</p>
<p>This syntax is intentional to make clear that any change in the tag name would yield a new contextual component,
effectively tearing down the previous one before rendering the new one, but I can see perceiving this
as unnecessarily complex.</p>
<a class="header" href="0389-dynamic-tag-names.html#alternatives" id="alternatives"><h2>Alternatives</h2></a>
<p>We can decide not to do anything and leave this problem to be solved in user space, as it can be
solved using only public APIs.</p>
<p>We can also propose other alternative syntaxes. For instance, we could have a special built-in component for this:</p>
<pre><code class="language-hbs">&lt;DynamicElement @tagName={{@tagName}} class=&quot;some-class&quot; ...attributes&gt;
&lt;/DynamicElement&gt;
</code></pre>
<a class="header" href="0389-dynamic-tag-names.html#unresolved-questions" id="unresolved-questions"><h2>Unresolved questions</h2></a>
<hr />

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a rel="prev" href="0386-remove-jquery.html" class="mobile-nav-chapters previous">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="0391-router-helpers.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="0386-remove-jquery.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="0391-router-helpers.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <!-- Livereload script (if served using the cli tool) -->
        

        

        

        

        <script src="highlight.js"></script>
        <script src="book.js"></script>
    </body>
</html>
